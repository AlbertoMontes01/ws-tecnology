<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
  </head>
  <body>
      <canvas id="myChart" width="400" height="400"></canvas>
  </body>
  <script>
      var ctx= document.getElementById("myChart").getContext("2d");
      var myChart= new Chart(ctx,{
          type:"pie",
          data:{
              labels:['col1','col2','col3'],
              datasets:[{
                      label:'Num datos',
                      data:[10,9,15],
                      backgroundColor:[
                          'rgb(66, 134, 244,0.5)',
                          'rgb(74, 135, 72,0.5)',
                          'rgb(229, 89, 50,0.5)'
                      ]
              }]
          },
          options:{
              scales:{
                  yAxes:[{
                          ticks:{
                              beginAtZero:true
                          }
                  }]
              }
          }
      });</script>
    <script>
      const ws = new WebSocket("ws://148.213.190.31:3000");

ws.addEventListener("open", () => {
  console.log("WebSocket connection established");

  //ws.send("Hello, server!");
  ws.send(JSON.stringify({
    Temperature: 1000,
    Humidity:2100
  }));
});

ws.addEventListener("message", ({ data }) => {
  console.log(`Received message: ${data}`);
});

    </script>
  </body>
</html>
